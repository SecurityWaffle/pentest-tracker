package services

import (
	"log"
	"os"
	"os/exec"
)

func BackupDatabase() error {
	cmd := exec.Command("pg_dump", "-U", "yourusername", "-d", "yourdbname", "-F", "c", "-f", "backup.pgdump")
	cmd.Env = append(os.Environ(), "PGPASSWORD=yourpassword")
	if err := cmd.Run(); err != nil {
		log.Printf("Error creating backup: %v", err)
		return err
	}
	log.Println("Database backup created successfully")
	return nil
}

func RestoreDatabase() error {
	cmd := exec.Command("pg_restore", "-U", "yourusername", "-d", "yourdbname", "-c", "backup.pgdump")
	cmd.Env = append(os.Environ(), "PGPASSWORD=yourpassword")
	if err := cmd.Run(); err != nil {
		log.Printf("Error restoring backup: %v", err)
		return err
	}
	log.Println("Database restored successfully")
	return nil
}
